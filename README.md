The code is intentionally in one script for test purposes.